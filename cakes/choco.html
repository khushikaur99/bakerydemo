<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chocolate Cake Delights</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                       primary: '#954C2E',
            secondary: '#4E1F00',
            'maroon-800': '#4E1F00'
                    },
                    boxShadow: {
                        'nav': '0 2px 5px rgba(0, 0, 0, 0.05)',
                        'main-nav': '0 2px 15px rgba(0, 0, 0, 0.05)',
                        'dropdown': '0 15px 30px rgba(0,0,0,0.12)',
                        'card': '0 4px 10px rgba(0,0,0,0.1)',
                        'btn': '0 4px 15px rgba(233, 30, 99, 0.3)'
                    }
                }
            }
        }
    </script>
    <style type="text/tailwindcss">
        @layer utilities {
            .clip-ellipse {
                clip-path: ellipse(75% 60% at 50% 35%);
            }
            .transform-perspective {
                transform: perspective(1000px) rotateX(5deg);
            }
            .text-shadow {
                text-shadow: 1px 1px 4px rgba(0,0,0,0.5);
            }
            .text-shadow-lg {
                text-shadow: 2px 2px 8px rgba(0,0,0,0.5);
            }
        }
        .image-carousel {
            scroll-behavior: smooth;
        }
        .dot-indicator {
            transition: all 0.3s ease;
        }
        .dot-indicator.active {
            background-color: #3B82F6;
        }
        .wishlist-btn {
            transition: all 0.3s ease;
        }
        .wishlist-btn:hover {
            transform: scale(1.1);
        }
        .wishlist-btn.active {
            color: #EF4444;
        }
        .star-rating {
            display: flex;
            align-items: center;
        }
       .dot-indicator.active {
            background-color: #3B82F6;
            width: 0.5rem;
            height: 0.5rem;
        }
        .wishlist-btn.active svg {
            fill: currentColor;
            color: #EF4444;
        }
        .line-clamp-2 {
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
    </style>
</head>
<body class="bg-white">
    <!-- Header will be loaded here -->
    <div id="header-container"></div>

   <!-- Image-Only Slideshow with Rounded Corners -->
<section class="relative w-full overflow-hidden group py-4">
  <!-- Slides Container -->
  <div id="imageSlideshow" class="flex transition-transform duration-700 ease-in-out ">
    <!-- Slide 1 -->
    <div class="w-full flex-shrink-0 " >
      <img 
        src="IMG/anniversary-cake-homepage-fa-desktop.avif" 
        alt="Anniversary Cake"
        class="w-full h-[400px] sm:h-[450px] md:h-[370px] object-cover rounded-[16px]"
      >
    </div>
    
    <!-- Slide 2 -->
    <div class="w-full flex-shrink-0">
      <img 
        src="IMG/birthday-landingpage-fa-desktop.avif" 
        alt="Birthday Cake"
               class="w-full h-[400px] sm:h-[450px] md:h-[370px] object-cover rounded-[16px]"

      >
    </div>
    
    <!-- Slide 3 -->
    <div class="w-full flex-shrink-0">
      <img 
        src="IMG/cake-birthday-homepage-fa-desktop_1.avif" 
        alt="Chocolate Cake"
               class="w-full h-[400px] sm:h-[450px] md:h-[370px] object-cover rounded-[16px]"

      >
    </div>

    <!-- Slide 4 -->
    <div class="w-full flex-shrink-0">
      <img 
        src="IMG/chocolate-cake-landingpage-fa-desktop.avif" 
        alt="Mango Cake"
               class="w-full h-[400px] sm:h-[450px] md:h-[370px] object-cover rounded-[16px]"

      >
    </div>
  </div>
  
        <!-- Navigation Dots -->
        <div class="absolute bottom-6 left-0 right-0 flex justify-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity">
            <button class="image-slide-dot w-2 h-2 rounded-full bg-white bg-opacity-50 hover:bg-opacity-100 transition" data-index="0"></button>
            <button class="image-slide-dot w-2 h-2 rounded-full bg-white bg-opacity-50 hover:bg-opacity-100 transition" data-index="1"></button>
            <button class="image-slide-dot w-2 h-2 rounded-full bg-white bg-opacity-50 hover:bg-opacity-100 transition" data-index="2"></button>
            <button class="image-slide-dot w-2 h-2 rounded-full bg-white bg-opacity-50 hover:bg-opacity-100 transition" data-index="3"></button>
        </div>
    </section>

    <div class="max-w-8xl mx-auto mt-7">
        <!-- Heading and Filter Section -->
        <div class="flex flex-col md:flex-row justify-between items-start md:items-center mb-6 px-4">
            <h2 class="text-2xl font-bold text-gray-800 mb-4 md:mb-0">Chocolate Cakes</h2>
            <div class="relative w-full md:w-auto">
                <select id="sort-filter" class="appearance-none bg-white border border-gray-300 rounded-md py-2 pl-3 pr-8 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 w-full md:w-48">
                    <option value="default">Sort by</option>
                    <option value="price-low">Price: Low to High</option>
                    <option value="price-high">Price: High to Low</option>
                    <option value="popularity">Popularity</option>
                    <option value="rating">Rating</option>
                </select>
                <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700">
                    <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                    </svg>
                </div>
            </div>
        </div>

        <div id="product-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 px-4">
            <!-- Cards will be generated here -->
        </div>
    </div>

    <!-- Review Section -->
    <section class="bg-gray-50 py-12 px-4">
        <div class="max-w-7xl mx-auto">
            <h2 class="text-3xl font-bold text-center text-gray-800 mb-8">Customer Reviews</h2>
            
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                <!-- Review 1 -->
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <div class="flex items-center mb-4">
                        <div class="w-12 h-12 rounded-full bg-gray-300 flex items-center justify-center mr-4">
                            <span class="text-xl font-semibold text-gray-700">A</span>
                        </div>
                        <div>
                            <h4 class="font-semibold text-gray-800">Aarav Sharma</h4>
                            <div class="flex items-center mt-1">
                                <div class="flex text-yellow-400">
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                    <p class="text-gray-600">"The Chocolate Truffle Bliss cake was absolutely divine! Rich, moist, and perfectly balanced sweetness. Will definitely order again for special occasions."</p>
                    <div class="mt-4 text-sm text-gray-500">March 15, 2023</div>
                </div>
                
                <!-- Review 2 -->
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <div class="flex items-center mb-4">
                        <div class="w-12 h-12 rounded-full bg-gray-300 flex items-center justify-center mr-4">
                            <span class="text-xl font-semibold text-gray-700">P</span>
                        </div>
                        <div>
                            <h4 class="font-semibold text-gray-800">Priya Patel</h4>
                            <div class="flex items-center mt-1">
                                <div class="flex text-yellow-400">
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star-half-alt"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                    <p class="text-gray-600">"Ordered the Dark Chocolate Decadence for my anniversary. It arrived on time and was beautifully packaged. The taste was incredible - so rich and chocolatey!"</p>
                    <div class="mt-4 text-sm text-gray-500">February 28, 2023</div>
                </div>
                
                <!-- Review 3 -->
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <div class="flex items-center mb-4">
                        <div class="w-12 h-12 rounded-full bg-gray-300 flex items-center justify-center mr-4">
                            <span class="text-xl font-semibold text-gray-700">R</span>
                        </div>
                        <div>
                            <h4 class="font-semibold text-gray-800">Rahul Mehta</h4>
                            <div class="flex items-center mt-1">
                                <div class="flex text-yellow-400">
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                    <p class="text-gray-600">"The Chocolate Lava Surprise was the highlight of my daughter's birthday party. The molten center was perfect and it was still warm when delivered!"</p>
                    <div class="mt-4 text-sm text-gray-500">April 5, 2023</div>
                </div>
            </div>
            
          
        </div>
    </section>

    <!-- Footer Section -->
    <footer class="bg-white text-light py-8 sm:py-12 px-4">
        <div class="max-w-7xl mx-auto">
            <div class="grid grid-cols-2 md:grid-cols-4 gap-6 sm:gap-8">
                <!-- About Us -->
                <div class="col-span-2 md:col-span-1">
                    <h3 class="text-primary font-bold text-lg sm:text-xl mb-3 sm:mb-4">Artisan Bakery</h3>
                    <p class="text-black text-sm sm:text-base">Handcrafted with love since 2010. We bake happiness into every product.</p>
                </div>

                <!-- Quick Links -->
                <div>
                    <h3 class="text-primary font-bold text-lg sm:text-xl mb-3 sm:mb-4">Quick Links</h3>
                    <ul class="space-y-1 sm:space-y-2">
                        <li><a href="../index.html" class="text-black text-sm sm:text-base hover:text-primary transition-colors">Home</a></li>
                        <li><a href="#" class="text-black text-sm sm:text-base hover:text-primary transition-colors">Our Menu</a></li>
                        <li><a href="#" class="text-black text-sm sm:text-base hover:text-primary transition-colors">Special Offers</a></li>
                        <li><a href="#" class="text-black text-sm sm:text-base hover:text-primary transition-colors">Track Order</a></li>
                        <li><a href="#" class="text-black text-sm sm:text-base hover:text-primary transition-colors">Contact Us</a></li>
                    </ul>
                </div>

                <!-- Contact Info -->
                <div class="col-span-2 md:col-span-1">
                    <h3 class="text-primary font-bold text-lg sm:text-xl mb-3 sm:mb-4">Contact Us</h3>
                    <ul class="space-y-1 sm:space-y-2 text-black">
                        <li class="flex items-start">
                            <i class="fas fa-map-marker-alt mt-1 mr-2 sm:mr-3 text-primary text-sm sm:text-base"></i>
                            <span class="text-sm sm:text-base">123 Bakery Street, Pune</span>
                        </li>
                        <li class="flex items-center">
                            <i class="fas fa-phone-alt mr-2 sm:mr-3 text-primary text-sm sm:text-base"></i>
                            <span class="text-sm sm:text-base">+91 9876543210</span>
                        </li>
                        <li class="flex items-center">
                            <i class="fas fa-envelope mr-2 sm:mr-3 text-primary text-sm sm:text-base"></i>
                            <span class="text-sm sm:text-base">hello@artisanbakery.com</span>
                        </li>
                    </ul>
                </div>

                <!-- Social Media -->
                <div class="col-span-2 md:col-span-1">
                    <h3 class="text-primary font-bold text-lg sm:text-xl mb-3 sm:mb-4 text-center md:text-left">Follow Us</h3>
                    <div class="flex justify-center md:justify-start space-x-3 sm:space-x-4">
                        <a href="#" class="w-8 h-8 sm:w-10 sm:h-10 rounded-full bg-primary flex items-center justify-center text-white hover:bg-primary hover:text-white transition-colors">
                            <i class="fab fa-facebook-f text-sm sm:text-base"></i>
                        </a>
                        <a href="#" class="w-8 h-8 sm:w-10 sm:h-10 rounded-full bg-primary flex items-center justify-center text-white hover:bg-primary hover:text-white transition-colors">
                            <i class="fab fa-instagram text-sm sm:text-base"></i>
                        </a>
                        <a href="#" class="w-8 h-8 sm:w-10 sm:h-10 rounded-full bg-primary flex items-center justify-center text-white hover:bg-primary hover:text-white transition-colors">
                            <i class="fab fa-twitter text-sm sm:text-base"></i>
                        </a>
                        <a href="#" class="w-8 h-8 sm:w-10 sm:h-10 rounded-full bg-primary flex items-center justify-center text-white hover:bg-primary hover:text-white transition-colors">
                            <i class="fab fa-pinterest-p text-sm sm:text-base"></i>
                        </a>
                    </div>
                </div>
            </div>

            <!-- Copyright -->
            <div class="border-t border-gray-300 mt-8 sm:mt-12 pt-6 sm:pt-8 text-center text-black text-xs sm:text-sm">
                <p>© 2023 Artisan Bakery Delights. All rights reserved.</p>
            </div>
        </div>
    </footer>

  <script>
    // Product data - Chocolate Cakes Only
    const productData = [
        {
            id: 11,
            name: 'Truffle Bliss Chocolate Cake',
            price: 795,
            description: 'Rich chocolate truffle cake with layers of dark chocolate ganache and chocolate mousse, topped with chocolate shavings.',
            originalPrice: 850,
            rating: 4.9,
            reviewCount: 265,
            image: './IMG/bday25.jpg',
            badge: {
                text: 'Best Seller',
                color: 'bg-teal-700'
            },
            deliveryTime: 'In 3 hours',
            hasDeliveryInfo: true,
            deliveryType: null
        },
            {
                id: 12,
                name: 'Dark Chocolate Decadence',
                price: 895,
                description: 'Intense dark chocolate cake with rich chocolate buttercream and chocolate curls decoration.',
                originalPrice: 950,
                rating: 4.8,
                reviewCount: 198,
                image: './IMG/bday26.jpg',
                badge: {
                    text: 'Popular',
                    color: 'bg-blue-600'
                },
                deliveryTime: 'In 4 hours',
                hasDeliveryInfo: true,
                deliveryType: 'Express'
            },
            {
                id: 13,
                name: 'Chocolate Lava Surprise',
                price: 650,
                description: 'Warm chocolate cake with a molten chocolate center, served with vanilla ice cream.',
                originalPrice: 750,
                rating: 4.7,
                reviewCount: 156,
                image: './IMG/bday27.jpg',
                badge: null,
                deliveryTime: 'In 2 hours',
                hasDeliveryInfo: false,
                deliveryType: 'Instant'
            },
            {
                id: 14,
                name: 'Belgian Chocolate Dream',
                price: 999,
                description: 'Premium Belgian chocolate cake with layers of chocolate mousse and chocolate glaze.',
                originalPrice: 1099,
                rating: 5.0,
                reviewCount: 87,
                image: './IMG/bday28.jpg',
                badge: {
                    text: 'Luxury',
                    color: 'bg-purple-600'
                },
                deliveryTime: 'Tomorrow',
                hasDeliveryInfo: true,
                deliveryType: null
            },
            {
                id: 15,
                name: 'Chocolate Hazelnut Delight',
                price: 750,
                description: 'Chocolate cake with hazelnut cream filling and chocolate-hazelnut frosting.',
                originalPrice: 850,
                rating: 4.6,
                reviewCount: 112,
                image: './IMG/bday29.jpg',
                badge: null,
                deliveryTime: 'In 3 hours',
                hasDeliveryInfo: true,
                deliveryType: null
            },
            {
                id: 16,
                name: 'Double Chocolate Fudge',
                price: 699,
                description: 'Moist chocolate fudge cake with double layers of chocolate frosting.',
                originalPrice: 799,
                rating: 4.5,
                reviewCount: 143,
                image: './IMG/bday30.jpg',
                badge: null,
                deliveryTime: 'In 2.5 hours',
                hasDeliveryInfo: false,
                deliveryType: null
            },
            {
                id: 17,
                name: 'Chocolate Raspberry Symphony',
                price: 899,
                description: 'Chocolate cake with raspberry filling and chocolate ganache topping.',
                originalPrice: 999,
                rating: 4.8,
                reviewCount: 76,
                image: './IMG/bday31.jpg',
                badge: {
                    text: 'New',
                    color: 'bg-green-600'
                },
                deliveryTime: 'Tomorrow',
                hasDeliveryInfo: true,
                deliveryType: null
            },
            {
                id: 18,
                name: 'Chocolate Caramel Crunch',
                price: 825,
                description: 'Chocolate cake with caramel filling and crunchy chocolate pearls topping.',
                originalPrice: 925,
                rating: 4.7,
                reviewCount: 94,
                image: './IMG/bday32.jpg',
                badge: null,
                deliveryTime: 'In 4 hours',
                hasDeliveryInfo: true,
                deliveryType: null
            }
        ];


    // Wishlist management
    let wishlistDetails = JSON.parse(localStorage.getItem('wishlistDetails')) || [];

    function toggleWishlist(button, productId, event) {
        event.preventDefault();
        event.stopPropagation();
        
        const product = productData.find(p => p.id === productId);
        if (!product) return;

        const isInWishlist = wishlistDetails.some(item => item.id === productId);
        
        if (isInWishlist) {
            wishlistDetails = wishlistDetails.filter(item => item.id !== productId);
            button.classList.remove('active');
            showNotification('Removed from wishlist!');
        } else {
            wishlistDetails.push(product);
            button.classList.add('active');
            showNotification('Added to wishlist!');
        }
        
        localStorage.setItem('wishlistDetails', JSON.stringify(wishlistDetails));
        
        // Redirect after a short delay to allow the UI to update
        setTimeout(() => {
            window.location.href = "../wishlist.html";
        }, 800);
    }

    function showNotification(message) {
        const notification = document.createElement('div');
        notification.className = 'fixed top-4 right-4 bg-green-500 text-white px-4 py-2 rounded-md shadow-lg z-50';
        notification.textContent = message;
        document.body.appendChild(notification);
        
        setTimeout(() => {
            notification.remove();
        }, 2000);
    }

    function handleProductClick(productId) {
        const product = productData.find(p => p.id === productId);
        sessionStorage.setItem('selectedProduct', JSON.stringify(product));
        window.location.href = `../product-details.html?id=${productId}`;
    }

    function createProductCard(product, index) {
        const isInWishlist = wishlistDetails.some(item => item.id === product.id);
        
        return `
            <div class="bg-white rounded-lg shadow-md overflow-hidden relative cursor-pointer hover:shadow-lg transition-shadow duration-300">
                ${product.badge ? `
                    <div class="absolute top-3 left-3 ${product.badge.color} text-white px-3 py-1 rounded-md text-sm font-medium z-10">
                        ${product.badge.text}
                    </div>
                ` : ''}
                
                <a href="../wishlist.html" class="absolute top-3 right-3 bg-white rounded-full p-2 shadow-md wishlist-btn z-10 ${isInWishlist ? 'active' : ''}" 
                   onclick="toggleWishlist(this, ${product.id}, event)">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                              d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z">
                        </path>
                    </svg>
                </a>

                <div onclick="handleProductClick(${product.id})">
                    <img src="${product.image}" alt="${product.name}" class="w-full h-64 object-cover">
                </div>

                ${product.deliveryType ? `
                    <div class="absolute top-60 right-3 bg-blue-600 text-white px-2 py-1 rounded text-xs font-medium">
                        ${product.deliveryType}
                    </div>
                ` : ''}

                <div class="p-6" onclick="handleProductClick(${product.id})">
                    <h3 class="font-semibold text-gray-800 mb-3 text-lg line-clamp-2">${product.name}</h3>
                    
                    <div class="flex items-center mb-3">
                        <span class="text-xl font-bold text-gray-900">₹ ${product.price}</span>
                        ${product.originalPrice ? `
                            <span class="text-sm text-gray-500 line-through ml-2">₹ ${product.originalPrice}</span>
                        ` : ''}
                    </div>

                    <div class="flex items-center mb-4">
                        <div class="flex items-center bg-green-600 text-white px-2 py-1 rounded text-sm">
                            <svg class="w-3 h-3 mr-1" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                            </svg>
                            ${product.rating}
                        </div>
                        <span class="text-sm text-gray-600 ml-2">(${product.reviewCount} Reviews)</span>
                    </div>

                    <div class="flex items-center text-sm text-gray-600">
                        <span>Earliest Delivery: ${product.deliveryTime}</span>
                        ${product.hasDeliveryInfo ? `
                            <button class="ml-2 text-gray-400 hover:text-gray-600" onclick="event.stopPropagation()">
                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                                          d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z">
                                    </path>
                                </svg>
                            </button>
                        ` : ''}
                    </div>
                </div>
            </div>
        `;
    }

    function sortProducts(sortType) {
        let sortedProducts = [...productData];
        
        switch(sortType) {
            case 'price-low':
                sortedProducts.sort((a, b) => a.price - b.price);
                break;
            case 'price-high':
                sortedProducts.sort((a, b) => b.price - a.price);
                break;
            case 'popularity':
                sortedProducts.sort((a, b) => b.reviewCount - a.reviewCount);
                break;
            case 'rating':
                sortedProducts.sort((a, b) => b.rating - a.rating);
                break;
            default:
                break;
        }
        
        return sortedProducts;
    }

    function renderProducts(sortedProducts) {
        const grid = document.getElementById('product-grid');
        const cardsHTML = sortedProducts.map((product, index) => createProductCard(product, index)).join('');
        grid.innerHTML = cardsHTML;
    }

    function initializePage() {
        const sortFilter = document.getElementById('sort-filter');
        if (sortFilter) {
            sortFilter.addEventListener('change', (e) => {
                const sortedProducts = sortProducts(e.target.value);
                renderProducts(sortedProducts);
            });
        }
        
        renderProducts(productData);
    }

    document.addEventListener('DOMContentLoaded', function() {
        initializePage();

        // Initialize slideshow
        const slideshow = document.getElementById('imageSlideshow');
        const slides = document.querySelectorAll('#imageSlideshow > div');
        const dots = document.querySelectorAll('.image-slide-dot');
        
        let currentIndex = 0;
        const slideCount = slides.length;
        
        function updateSlideshow() {
            slideshow.style.transform = `translateX(-${currentIndex * 100}%)`;
            
            dots.forEach((dot, index) => {
                dot.classList.toggle('bg-opacity-100', index === currentIndex);
                dot.classList.toggle('w-3', index === currentIndex);
                dot.classList.toggle('h-3', index === currentIndex);
            });
        }
        
        function nextSlide() {
            currentIndex = (currentIndex + 1) % slideCount;
            updateSlideshow();
        }
        
        setInterval(nextSlide, 4000);
        
        dots.forEach(dot => {
            dot.addEventListener('click', () => {
                currentIndex = parseInt(dot.getAttribute('data-index'));
                updateSlideshow();
            });
        });
        
        updateSlideshow();

        // Load header
        fetch('../header.html')
            .then(response => response.text())
            .then(html => {
                document.getElementById('header-container').innerHTML = html;
            })
            .catch(error => console.error('Error loading header:', error));
    });
</script>





<script>
    // Load header content and initialize functionality
    document.addEventListener('DOMContentLoaded', function() {
        // Load header HTML
        fetch('header.html')
            .then(response => response.text())
            .then(html => {
                document.getElementById('header-container').innerHTML = html;
                
                // Initialize all header functionality
                initializeHeader();
            })
            .catch(error => console.error('Error loading header:', error));

        function initializeHeader() {
            // ==================== DELIVERY LOCATION ====================
            const puneDeliveryAreas = [
                'Koregaon Park', 'Baner', 'Wakad', 'Hinjewadi', 'FC Road', 'Viman Nagar',
                'Kothrud', 'Aundh', 'Shivaji Nagar', 'Camp', 'Deccan', 'Karve Nagar',
                'Pune Station', 'Swargate', 'Katraj', 'Kondhwa', 'Bibwewadi', 'Fursungi',
                'Magarpatta', 'Hadapsar', 'Kharadi', 'Wagholi', 'Chinchwad', 'Pimpri',
                'Warje', 'Bavdhan', 'Pashan', 'Sus', 'Balewadi', 'Nigdi', 'Akurdi',
                'Ravet', 'Tathawade', 'Vishrantwadi', 'Yerawada', 'Kalyani Nagar',
                'Nagar Road', 'Dhanori', 'Lohegaon', 'Mundwa', 'Ghorpadi', 'Wanowrie',
                'Fatima Nagar', 'Salisbury Park', 'Parvati', 'Dhankawadi', 'Balaji Nagar',
                'Bhavani Peth', 'Budhwar Peth', 'Kasba Peth', 'Rasta Peth', 'Sadashiv Peth'
            ];

            const punePincodes = [
                '411001', '411002', '411003', '411004', '411005', '411006', '411007', '411008', 
                '411009', '411010', '411011', '411012', '411013', '411014', '411015', '411016'
            ];

            // Get all elements
            const modal = document.getElementById('deliveryModal');
            const deliveryLocationBtn = document.getElementById('deliveryLocationBtn');
            const mobileDeliveryBtn = document.getElementById('mobileDeliveryBtn');
            const closeModal = document.getElementById('closeModal');
            const locationInput = document.getElementById('locationInput');
            const confirmLocationBtn = document.getElementById('confirmLocation');
            const useCurrentLocationBtn = document.getElementById('useCurrentLocation');
            const locationOptions = document.querySelectorAll('.location-option');
            const selectedLocationSpan = document.getElementById('selectedLocation');
            const mobileSelectedLocationSpan = document.getElementById('mobileSelectedLocation');
            const locationError = document.getElementById('locationError');
            const locationSuccess = document.getElementById('locationSuccess');

            let selectedLocation = '';
            let isValidLocation = false;

            // Delivery location functions
            function openModal() {
                if (modal) modal.classList.remove('hidden');
                document.body.style.overflow = 'hidden';
            }

            function closeModalFunc() {
                if (modal) modal.classList.add('hidden');
                document.body.style.overflow = 'auto';
            }

            function validateLocation(location) {
                const isAreaValid = puneDeliveryAreas.some(area => 
                    area.toLowerCase().includes(location.toLowerCase())
                );
                const isPincodeValid = punePincodes.includes(location);
                return isAreaValid || isPincodeValid;
            }

            function updateLocationUI(isValid, location = '') {
                if (isValid) {
                    if (locationError) locationError.classList.add('hidden');
                    if (locationSuccess) {
                        locationSuccess.classList.remove('hidden');
                        locationSuccess.textContent = `Great! We deliver to ${location}.`;
                    }
                    if (confirmLocationBtn) confirmLocationBtn.disabled = false;
                    isValidLocation = true;
                    selectedLocation = location;
                } else {
                    if (locationError) {
                        locationError.classList.remove('hidden');
                        locationError.textContent = location ? "We don't deliver to this location yet." : "Please enter a valid location.";
                    }
                    if (locationSuccess) locationSuccess.classList.add('hidden');
                    if (confirmLocationBtn) confirmLocationBtn.disabled = true;
                    isValidLocation = false;
                }
            }

            function saveLocation(location) {
                localStorage.setItem('deliveryLocation', location);
            }

            // Event listeners
            if (deliveryLocationBtn) {
                deliveryLocationBtn.addEventListener('click', openModal);
            }

            if (mobileDeliveryBtn) {
                mobileDeliveryBtn.addEventListener('click', openModal);
            }

            if (closeModal) {
                closeModal.addEventListener('click', closeModalFunc);
            }

            if (locationInput) {
                locationInput.addEventListener('input', function(e) {
                    const location = e.target.value.trim();
                    if (location.length > 2) {
                        updateLocationUI(validateLocation(location), location);
                    } else {
                        updateLocationUI(false);
                    }
                });
            }

            if (locationOptions) {
                locationOptions.forEach(option => {
                    option.addEventListener('click', function() {
                        const location = this.textContent.trim().replace(/^.*?\s/, '').trim();
                        if (locationInput) locationInput.value = location;
                        updateLocationUI(true, location);
                    });
                });
            }

            if (confirmLocationBtn) {
                confirmLocationBtn.addEventListener('click', function() {
                    if (isValidLocation && selectedLocation) {
                        if (selectedLocationSpan) selectedLocationSpan.textContent = selectedLocation;
                        if (mobileSelectedLocationSpan) mobileSelectedLocationSpan.textContent = selectedLocation;
                        saveLocation(selectedLocation);
                        closeModalFunc();
                    }
                });
            }

            if (useCurrentLocationBtn) {
                useCurrentLocationBtn.addEventListener('click', function() {
                    if (navigator.geolocation) {
                        navigator.geolocation.getCurrentPosition(
                            function() {
                                const demoLocation = "Koregaon Park";
                                if (locationInput) locationInput.value = demoLocation;
                                updateLocationUI(true, demoLocation);
                            },
                            function(error) {
                                if (locationError) {
                                    locationError.classList.remove('hidden');
                                    locationError.textContent = "Unable to get your location. Please enter manually.";
                                }
                                console.error("Geolocation error:", error);
                            }
                        );
                    } else if (locationError) {
                        locationError.classList.remove('hidden');
                        locationError.textContent = "Geolocation is not supported by your browser.";
                    }
                });
            }

            // ==================== MOBILE MENU ====================
            const mobileMenuButton = document.getElementById('mobileMenuButton');
            const mobileMenu = document.getElementById('mobileMenu');
            
            if (mobileMenuButton && mobileMenu) {
                mobileMenuButton.addEventListener('click', () => {
                    mobileMenu.classList.toggle('hidden');
                });
            }

            // ==================== SEARCH FUNCTIONALITY ====================
            const searchInput = document.getElementById('searchInput');
            const searchButton = document.getElementById('searchButton');
            const suggestions = document.getElementById('suggestions');

            if (searchInput && suggestions) {
                const searchData = [
                    // Cake Types
                    'Chocolate Cake', 'Vanilla Cake', 'Cheesecake', 'Red Velvet Cake', 'Fruit Cake',
                    'Mango Cake', 'Butterscotch Cake', 'Black Forest Cake', 'Pineapple Cake',
                    'Strawberry Cake', 'Photo Cake', 'Bento Cake', 'Heart Shaped Cake',
                    'Pull Me Up Cake', 'Pinata Cake', 'Bomb Cake', 'Fondant Cake', 'Multi Tier Cake',
                    
                    // Cake Occasions
                    'Birthday Cake', 'Anniversary Cake', 'Wedding Cake', 'Graduation Cake',
                    'Baby Shower Cake', 'Engagement Cake', 'Retirement Cake', 'Farewell Cake',
                    
                    // Kids Cakes
                    'Barbie Cake', 'Car Theme Cake', 'Cartoon Cake', 'Spiderman Cake',
                    'Superhero Cake', 'Cricket Cake',
                    
                    // Pastry Types
                    'Cupcake', 'Muffin', 'Donut', 'Macaron', 'Croissant', 'Danish Pastry',
                    
                    // Pastry Flavors
                    'Chocolate Pastry', 'Vanilla Pastry', 'Strawberry Pastry', 'Blueberry Pastry',
                    'Lemon Pastry', 'Matcha Pastry',
                    
                    // Specialty Pastries
                    'Gluten-Free Pastry', 'Sugar-Free Pastry', 'Vegan Pastry', 'Keto-Friendly Pastry',
                    'Seasonal Special Pastry', 'Mini Pastry Box', 'Eggless Cake',
                    
                 
                ];

                // Show search suggestions
                function showSuggestions(matches) {
                    suggestions.innerHTML = '';
                    
                    if (matches.length === 0) {
                        suggestions.classList.add('hidden');
                        return;
                    }
                    
                    matches.forEach(match => {
                        const li = document.createElement('li');
                        li.className = 'px-4 py-2 cursor-pointer hover:bg-gray-100 transition-colors text-sm';
                        li.textContent = match;
                        
                        li.addEventListener('click', function() {
                            searchInput.value = match;
                            suggestions.classList.add('hidden');
                            performSearch(match);
                        });
                        
                        suggestions.appendChild(li);
                    });
                    
                    suggestions.classList.remove('hidden');
                }

                // Get matching suggestions
                function getSuggestions(input) {
                    if (input.length < 2) return [];
                    
                    const inputLower = input.toLowerCase();
                    return searchData.filter(item => 
                        item.toLowerCase().includes(inputLower)
                    ).slice(0, 8); // Limit to 8 suggestions
                }

                // Perform search (redirect to search page)
                function performSearch(query) {
                    // In a real implementation, this would redirect to a search results page
                    console.log('Searching for:', query);
                    // window.location.href = `/search.html?q=${encodeURIComponent(query)}`;
                }

                // Event listeners for search
                searchInput.addEventListener('input', function(e) {
                    const input = e.target.value.trim();
                    const matches = getSuggestions(input);
                    showSuggestions(matches);
                });
                
                searchInput.addEventListener('focus', function() {
                    if (searchInput.value.trim().length > 1) {
                        const matches = getSuggestions(searchInput.value.trim());
                        showSuggestions(matches);
                    }
                });
                
                searchInput.addEventListener('blur', function() {
                    // Hide suggestions after a small delay to allow click events to register
                    setTimeout(() => {
                        suggestions.classList.add('hidden');
                    }, 200);
                });

                searchButton.addEventListener('click', function() {
                    const query = searchInput.value.trim();
                    if (query) {
                        performSearch(query);
                    }
                });

                // Handle Enter key press
                searchInput.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        const query = searchInput.value.trim();
                        if (query) {
                            performSearch(query);
                        }
                    }
                });

                // Close suggestions when clicking outside
                document.addEventListener('click', function(e) {
                    if (!searchInput.contains(e.target)) {
                        suggestions.classList.add('hidden');
                    }
                });
            }

            // Load saved location
            const savedLocation = localStorage.getItem('deliveryLocation');
            if (savedLocation) {
                if (selectedLocationSpan) selectedLocationSpan.textContent = savedLocation;
                if (mobileSelectedLocationSpan) mobileSelectedLocationSpan.textContent = savedLocation;
                selectedLocation = savedLocation;
            }
        }
    });
</script>
</body>
</html>